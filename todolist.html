<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>    
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelector('#new-task').onsubmit = () => {
                const inputbox = document.createElement('input');
                inputbox.type="checkbox";//inputbox.serAtribbute("type","checkbox")
                const button = document.createElement('button'); 
                button.innerText = 'x';
                button.className = "delete";
                const li = document.createElement('li');
                li.appendChild(inputbox);
                li.innerHTML+=document.querySelector('#task').value;
                document.querySelector('#tasks').append(li);
                li.appendChild(button);
                
                const checkbox = li.querySelector('input[type=checkbox]');
                checkbox.addEventListener('change', (event) => {
                if (event.currentTarget.checked) {
                    li.style= "text-decoration:line-through";
                } else {
                    li.style= "text-decoration:none";
                }
                });
                
                const delbutton = li.querySelector('button.delete');
                delbutton.addEventListener('click',()=>{
                    const ul=document.querySelector('#tasks')
                    ul.removeChild(li);
                    
                });
                document.querySelector('#task').value='';
                return false;
            };
            document.querySelector('#complete-all').addEventListener('click',()=>{
                const ul=document.getElementsByTagName('li');
                for(var i=0;i<ul.length;i++){
                    ul[i].style="text-decoration:line-through";
                }  
            });
        });
        
    </script>
</head>
<body>
    <p>Computer Science</p>
    <h1>Tasks</h1>
    
    <form id="new-task" action="">
        <input type="text" id="task" autocomplete="off" autofocus placeholder="New Task">
        <input type="submit" value="Add Todo"><br>
    </form>
    <button id="complete-all">
        Complete All
    </button>
    <ol id="tasks">
    </ol>
</body>
</html>